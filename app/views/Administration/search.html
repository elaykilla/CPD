<div class="ajaxable-admin container span12">
    #{searchFormTag page:page, search:search, as:'admin' /}
    #{pagination page:page, size:size, nbPages:nbPages, nbPagesMax:nbPagesMax, search:search, as:'admin' /}
    <table cellpadding="0" cellspacing="0" border="0"
           class="table table-striped table-bordered">
        <caption>
            <h4>La liste des utilisateurs</h4>
        </caption>
        <thead>
            <tr>
                <th>Nom</th>
                <th>Action</th>
            </tr>

            <tr>
                <td></td>
                <td><a href="@{Administration.users('active')}">Active</a></td>
                <td><a class="disabled" href="@{Administration.users('disable')}">Désactive</a></td>
            </tr>
        </thead>
        #{list items:users, as:'user'}
        <tbody>
            <tr>
                <td><a class="${user?.active==false? 'disabled' : ''}" href="@{Users.user(user?.id)}">${user?.fullName()}</a></td>
                <td><a class="pull-right"
                       href="@{Administration.deleteUser(user?.id)}"
                       onclick="return(confirm('Êtes vous sûr de vouloir supprimer cet utilisateur ?\nToutes ses données aussi seront supprimées'));"><button
                            class="btn btn-danger">X</button> </a></td>
                <td><a class="pull-right"
                       href="@{Administration.editUser(user?.id)}"><button
                            class="btn btn-u">Edit</button> </a></td>
            </tr>
        </tbody>
        #{/list}
    </table>
</div>